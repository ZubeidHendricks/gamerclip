# üß™ GamerClip AI - Testing Checklist

Your API keys have been added! Here's how to test each feature:

## ‚úÖ Pre-Flight Check

### Edge Functions Status
- ‚úÖ ingest-video - ACTIVE
- ‚úÖ process-ai-detection - ACTIVE
- ‚úÖ process-video-features - ACTIVE
- ‚úÖ render-export - ACTIVE

### API Keys Configured
- ‚úÖ TWITCH_CLIENT_ID
- ‚úÖ TWITCH_CLIENT_SECRET
- ‚úÖ ASSEMBLYAI_API_KEY
- ‚úÖ PEXELS_API_KEY
- ‚úÖ ELEVENLABS_API_KEY
- ‚úÖ SHOTSTACK_API_KEY

---

## üéÆ Test Workflow

### Test 1: Twitch Import (5 min)

1. Open the app on your device
2. Go to **Home** tab
3. Tap **"Import from Link"**
4. Paste a Twitch clip URL, for example:
   ```
   https://clips.twitch.tv/BetterScrumptiousCarrotVoHiYo
   ```
5. Enter a title like "Test Clip"
6. Tap **"Import"**

**Expected Result:**
- ‚úÖ Success message appears
- ‚úÖ Clip appears in Library with "Processing" status
- ‚úÖ Status changes to "Completed" after ~30 seconds

**If it fails:**
- Check Edge Function logs: https://supabase.com/dashboard/project/nrcnnduqkelbojkxkjsg/logs/edge-functions
- Verify Twitch keys are correct
- Ensure the Twitch clip URL is valid and public

---

### Test 2: Direct Upload (3 min)

1. Go to **Home** tab
2. Tap **"Upload Video"**
3. Select a short video file (under 100MB recommended)
4. Wait for upload to complete

**Expected Result:**
- ‚úÖ Upload progress shows
- ‚úÖ Success message appears
- ‚úÖ Clip appears in Library

**If it fails:**
- Check file size (large files may timeout)
- Verify storage bucket permissions
- Check mobile device permissions for file access

---

### Test 3: AI Captions (5 min)

1. Go to **Library** tab
2. Tap on a completed clip
3. Tap **"Export"** button
4. Toggle **"AI Captions"** ON
5. Select any style pack
6. Tap **"Start Export"**
7. Wait 1-2 minutes

**Expected Result:**
- ‚úÖ Export started message
- ‚úÖ Processing job appears in database
- ‚úÖ Captions generated and stored

**To Verify Captions:**
```sql
-- Run in Supabase SQL Editor
SELECT * FROM captions ORDER BY created_at DESC LIMIT 1;
```

**If it fails:**
- Check AssemblyAI API key
- Verify you have credits on AssemblyAI account
- Check processing_jobs table for error messages

---

### Test 4: AI B-Roll (3 min)

1. Export a clip
2. Toggle **"AI B-Roll"** ON
3. Select a style pack
4. Start export

**Expected Result:**
- ‚úÖ B-roll clips fetched from Pexels
- ‚úÖ Processing job completes

**To Verify B-Roll:**
```sql
-- Run in Supabase SQL Editor
SELECT * FROM processing_jobs
WHERE job_type = 'b_roll'
ORDER BY created_at DESC LIMIT 1;
```

**If it fails:**
- Check Pexels API key
- Verify Pexels API rate limits
- Ensure clip has a game_title set

---

### Test 5: AI Reframe (3 min)

1. Export a clip
2. Toggle **"AI Reframe"** ON
3. Select a style pack
4. Start export

**Expected Result:**
- ‚úÖ Video reframed to 9:16 vertical
- ‚úÖ Shotstack render job creates

**To Verify:**
```sql
SELECT * FROM processing_jobs
WHERE job_type = 'reframe'
ORDER BY created_at DESC LIMIT 1;
```

---

### Test 6: Speech Enhancement (3 min)

**Note:** This requires Replicate API key (optional)

1. Export a clip
2. Toggle **"Enhance Speech"** ON
3. Select a style pack
4. Start export

**Expected Result:**
- ‚úÖ If Replicate configured: Audio enhanced
- ‚ö†Ô∏è If not configured: Gracefully skips (check logs)

---

### Test 7: AI Voice-over (3 min)

1. Export a clip
2. Toggle **"AI Voice-over"** ON
3. Select a style pack
4. Start export

**Expected Result:**
- ‚úÖ Voice-over generated by ElevenLabs
- ‚úÖ Audio file created

**If it fails:**
- Check ElevenLabs API key permissions
- Verify you have characters remaining on ElevenLabs
- You may need to upgrade ElevenLabs plan

---

### Test 8: Full Export with Style Pack (5 min)

1. Export a clip
2. Toggle **ALL features** ON:
   - ‚úÖ AI Captions
   - ‚úÖ Enhance Speech (if Replicate available)
   - ‚úÖ AI Reframe
   - ‚úÖ AI B-Roll
   - ‚úÖ AI Voice-over
3. Select a style pack (e.g., "Valorant Ace")
4. Start export
5. Wait 2-5 minutes

**Expected Result:**
- ‚úÖ All processing jobs created
- ‚úÖ Final video rendered
- ‚úÖ Export status updates to "completed"
- ‚úÖ Video URL available in exports table

**To Check Export:**
```sql
SELECT * FROM exports
ORDER BY created_at DESC LIMIT 1;
```

---

### Test 9: Real-Time Updates (2 min)

1. Open Library tab
2. Start an export from another device/browser
3. Watch the Library screen

**Expected Result:**
- ‚úÖ Clip status updates automatically
- ‚úÖ No need to refresh manually
- ‚úÖ Status badge changes (processing ‚Üí completed)

---

### Test 10: Authentication (2 min)

1. Tap Profile tab
2. Tap **"Sign Out"**
3. Confirm sign out
4. Try to access Library (should redirect to login)
5. Sign back in

**Expected Result:**
- ‚úÖ Redirected to login screen
- ‚úÖ Can sign back in
- ‚úÖ All data still there

---

## üêõ Common Issues & Solutions

### Issue: "Failed to import clip"
**Solution:**
- Verify Twitch URL is valid
- Check Twitch API keys
- Ensure Twitch clip is public
- Check edge function logs

### Issue: "Transcription failed"
**Solution:**
- Verify AssemblyAI key is correct
- Check you have credits/quota
- Ensure video has audio

### Issue: "Voice-over not working"
**Solution:**
- Check ElevenLabs API key permissions
- Log into ElevenLabs dashboard
- Verify you have character quota
- May need to upgrade plan

### Issue: "Render job failed"
**Solution:**
- Check Shotstack API key
- Verify Shotstack credits
- Using sandbox key? Switch to production
- Check video file accessibility

### Issue: "Processing stuck"
**Solution:**
- Check processing_jobs table:
  ```sql
  SELECT * FROM processing_jobs
  WHERE status = 'processing'
  ORDER BY created_at DESC;
  ```
- Look for error_message
- Check edge function timeout (10 min max)
- May need to retry

---

## üìä Monitoring

### Check Edge Function Logs
https://supabase.com/dashboard/project/nrcnnduqkelbojkxkjsg/logs/edge-functions

### Check Database Tables
```sql
-- Recent clips
SELECT id, title, status, created_at
FROM clips
ORDER BY created_at DESC LIMIT 10;

-- Recent exports
SELECT id, status, created_at
FROM exports
ORDER BY created_at DESC LIMIT 10;

-- Failed jobs
SELECT * FROM processing_jobs
WHERE status = 'failed'
ORDER BY created_at DESC;

-- Recent captions
SELECT clip_id, language, created_at
FROM captions
ORDER BY created_at DESC LIMIT 10;
```

### Check Storage Usage
https://supabase.com/dashboard/project/nrcnnduqkelbojkxkjsg/storage/buckets

---

## ‚úÖ Success Criteria

After completing all tests, you should have:

- [ ] At least 1 imported Twitch clip
- [ ] At least 1 direct uploaded video
- [ ] AI captions generated for a clip
- [ ] B-roll footage fetched
- [ ] At least 1 completed export
- [ ] Real-time updates working
- [ ] No failed processing jobs
- [ ] All features accessible via UI

---

## üéâ Ready for Production

Once all tests pass:

1. ‚úÖ App is production-ready
2. ‚úÖ All integrations verified
3. ‚úÖ Real-time features working
4. ‚úÖ Security policies active

### Next Steps:
1. Test on physical devices (iOS & Android)
2. Build production versions:
   ```bash
   # iOS
   expo build:ios

   # Android
   expo build:android
   ```
3. Submit to App Store / Play Store
4. Monitor usage and API costs

---

## üí∞ API Cost Estimates

### Free Tiers
- Supabase: 500MB storage, 2GB bandwidth/month
- Pexels: Unlimited (free)
- AssemblyAI: 5 hours free, then $0.00025/second

### Paid Services
- Twitch API: Free
- ElevenLabs: $5/month starter (30k characters)
- Shotstack: $49/month developer (200 renders)
- Replicate: Pay per use (~$0.001/second)

**Estimated cost per export:** $0.10 - $0.50 depending on features used

---

## üìû Support Resources

- Twitch API Docs: https://dev.twitch.tv/docs/api
- AssemblyAI Docs: https://www.assemblyai.com/docs
- Pexels API Docs: https://www.pexels.com/api/documentation
- ElevenLabs Docs: https://elevenlabs.io/docs
- Shotstack Docs: https://shotstack.io/docs
- Supabase Docs: https://supabase.com/docs

---

**Start testing now! Follow the tests in order for best results.**
